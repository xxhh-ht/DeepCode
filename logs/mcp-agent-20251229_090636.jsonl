{"level":"INFO","timestamp":"2025-12-29T09:06:36.697063","namespace":"mcp_agent.core.context","message":"Configuring logger with level: info"}
{"level":"INFO","timestamp":"2025-12-29T09:06:36.728337","namespace":"mcp_agent.paper_to_code","message":"Loading subagents from configuration..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:36.728732","namespace":"mcp_agent.paper_to_code","message":"MCPApp initialized","data":{"data":{"progress_action":"Running","target":"paper_to_code","agent_name":"mcp_application_loop","session_id":"dffbf52f-c3a3-4d70-93f5-c30ffc89d5b3"}}}
{"level":"INFO","timestamp":"2025-12-29T09:06:37.677698","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:39.418774","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:39.422297","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:39.423452","namespace":"mcp_agent.mcp.mcp_aggregator.ResearchAnalyzerAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"INFO","timestamp":"2025-12-29T09:06:44.179275","namespace":"mcp_agent.mcp.mcp_aggregator.ResearchAnalyzerAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:44.181499","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:44.181195","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:44.382173","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:06:44.884517","namespace":"mcp_agent.mcp.mcp_aggregator.ResearchAnalyzerAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:06:50.197576","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udccb Paper ID: 2"}
{"level":"INFO","timestamp":"2025-12-29T09:06:50.197733","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udcc2 Paper directory: ./deepcode_lab/papers/2"}
{"level":"INFO","timestamp":"2025-12-29T09:06:50.197814","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udce5 Processing file: /var/folders/v1/zvg9nr5x5pbg987qk8n85xxm0000gn/T/deepcode_upload_ia1mmkjn.pdf"}
{"level":"INFO","timestamp":"2025-12-29T09:06:50.197913","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udcc4 Direct file copy: /var/folders/v1/zvg9nr5x5pbg987qk8n85xxm0000gn/T/deepcode_upload_ia1mmkjn.pdf -> ./deepcode_lab/papers/2"}
{"level":"INFO","timestamp":"2025-12-29T09:06:50.289804","namespace":"mcp_agent.paper_to_code","message":"\u2705 Direct file copy succeeded:\n[INFO] Copying file (original preserved):\n   Source: /var/folders/v1/zvg9nr5x5pbg987qk8n85xxm0000gn/T/deepcode_upload_ia1mmkjn.pdf\n   Target: deepcode_lab/papers/2/2.pdf\n   Size: 4.14 MB\n\n[SUCCESS] File copied successfully (original preserved)!\n   From: /var/folders/v1/zvg9nr5x5pbg987qk8n85xxm0000gn/T/deepcode_upload_ia1mmkjn.pdf\n   To: deepcode_lab/papers/2/2.pdf\n   Duration: 0.01 seconds\n   [INFO] PDF converted to Markdown (PyPDF2)\n   Markdown file: deepcode_lab/papers/2/2.md\n   Conversion time: 0.02 seconds\n   Pages extracted: 1"}
{"level":"INFO","timestamp":"2025-12-29T09:06:55.914721","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udcc4 Paper file loaded: /Volumes/MacSD/GitHub/DeepCode/deepcode_lab/papers/2/2.md (3308 chars)"}
{"level":"INFO","timestamp":"2025-12-29T09:06:55.956636","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:57.071407","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:57.072229","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:57.073473","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:57.303358","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:57.303481","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.AlgorithmAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:57.360930","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:57.361116","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.ConceptAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:06:57.364634","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:57.366487","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:57.366084","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:57.567781","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:06:58.069185","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:06:58.074122","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:59.056579","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:59.057377","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:59.058340","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:59.263840","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:06:59.263974","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.CodePlannerAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:06:59.264413","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:59.275255","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:59.275476","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:06:59.476744","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:06:59.982747","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:07:00.010427","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:01.031934","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:01.032812","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:01.033759","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:01.255951","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:01.256140","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.AlgorithmAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:01.317962","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:01.318106","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.ConceptAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:07:01.321574","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:01.324311","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:01.324651","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:01.526080","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:07:02.027966","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:07:02.033155","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:03.017622","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:03.018488","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:03.019415","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:03.243920","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:07:03.244805","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"ERROR","timestamp":"2025-12-29T09:07:03.244121","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.CodePlannerAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:07:03.249338","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:03.249028","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:03.450831","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:07:03.952892","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:07:03.974417","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:05.047703","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:05.048579","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:05.049733","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:05.283674","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:05.283818","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.AlgorithmAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:05.336349","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:05.336585","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.ConceptAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:07:05.348896","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:05.355199","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:05.363598","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:05.565081","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:07:06.067223","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:07:06.073300","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:07.098020","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:07.098827","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:07.099729","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:07.327724","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:07:07.328087","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"ERROR","timestamp":"2025-12-29T09:07:07.327809","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.CodePlannerAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:07:07.344455","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:07.344196","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:07:07.545409","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:07:08.048072","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:07:11.401984","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"command-executor: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:11.462612","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:11.463509","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"command-executor: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:07:11.464684","namespace":"mcp_agent.mcp.mcp_aggregator.StructureGeneratorAgent","message":"Error loading server data: MCP Server: 'command-executor': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"INFO","timestamp":"2025-12-29T09:09:04.715502","namespace":"mcp_agent.mcp.mcp_aggregator.StructureGeneratorAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:09:04.718054","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:09:04.721931","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"command-executor: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:09:04.923370","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:09:05.424920","namespace":"mcp_agent.mcp.mcp_aggregator.StructureGeneratorAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:09:07.132236","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-implementation: Up and running with a persistent connection!"}
{"level":"INFO","timestamp":"2025-12-29T09:09:07.132549","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-reference-indexer: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:07.210056","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:07.210949","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-reference-indexer: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:07.212577","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:07.213165","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-implementation: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:07.218864","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error: Tool 'set_workspace' not found"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:07.214231","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error loading server data: MCP Server: 'code-reference-indexer': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:07.214219","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error loading server data: MCP Server: 'code-implementation': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:14.859884","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error: Tool 'write_file' not found"}
{"level":"ERROR","timestamp":"2025-12-29T09:09:21.523231","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error: Tool 'get_operation_history' not found"}
{"level":"INFO","timestamp":"2025-12-29T09:09:21.525916","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:09:21.531067","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:09:21.531367","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-implementation: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:09:21.531415","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-reference-indexer: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:09:21.732838","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
