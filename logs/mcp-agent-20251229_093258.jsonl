{"level":"INFO","timestamp":"2025-12-29T09:32:58.491006","namespace":"mcp_agent.core.context","message":"Configuring logger with level: info"}
{"level":"INFO","timestamp":"2025-12-29T09:32:58.523950","namespace":"mcp_agent.paper_to_code","message":"MCPApp initialized","data":{"data":{"progress_action":"Running","target":"paper_to_code","agent_name":"mcp_application_loop","session_id":"fb2fd787-c4c3-428d-9754-a3641c22ef2a"}}}
{"level":"INFO","timestamp":"2025-12-29T09:32:58.523581","namespace":"mcp_agent.paper_to_code","message":"Loading subagents from configuration..."}
{"level":"INFO","timestamp":"2025-12-29T09:32:59.455304","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:01.418331","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:01.421783","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:01.423281","namespace":"mcp_agent.mcp.mcp_aggregator.ResearchAnalyzerAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"INFO","timestamp":"2025-12-29T09:33:06.242038","namespace":"mcp_agent.mcp.mcp_aggregator.ResearchAnalyzerAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:06.243305","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:06.243428","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:06.444828","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:33:06.946227","namespace":"mcp_agent.mcp.mcp_aggregator.ResearchAnalyzerAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:33:12.251037","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udccb Paper ID: 3"}
{"level":"INFO","timestamp":"2025-12-29T09:33:12.251115","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udcc2 Paper directory: ./deepcode_lab/papers/3"}
{"level":"INFO","timestamp":"2025-12-29T09:33:12.251152","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udce5 Processing file: /var/folders/v1/zvg9nr5x5pbg987qk8n85xxm0000gn/T/deepcode_upload_dibioihe.pdf"}
{"level":"INFO","timestamp":"2025-12-29T09:33:12.251192","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udcc4 Direct file copy: /var/folders/v1/zvg9nr5x5pbg987qk8n85xxm0000gn/T/deepcode_upload_dibioihe.pdf -> ./deepcode_lab/papers/3"}
{"level":"INFO","timestamp":"2025-12-29T09:33:12.337714","namespace":"mcp_agent.paper_to_code","message":"\u2705 Direct file copy succeeded:\n[INFO] Copying file (original preserved):\n   Source: /var/folders/v1/zvg9nr5x5pbg987qk8n85xxm0000gn/T/deepcode_upload_dibioihe.pdf\n   Target: deepcode_lab/papers/3/3.pdf\n   Size: 4.14 MB\n\n[SUCCESS] File copied successfully (original preserved)!\n   From: /var/folders/v1/zvg9nr5x5pbg987qk8n85xxm0000gn/T/deepcode_upload_dibioihe.pdf\n   To: deepcode_lab/papers/3/3.pdf\n   Duration: 0.00 seconds\n   [INFO] PDF converted to Markdown (PyPDF2)\n   Markdown file: deepcode_lab/papers/3/3.md\n   Conversion time: 0.02 seconds\n   Pages extracted: 1"}
{"level":"INFO","timestamp":"2025-12-29T09:33:17.958181","namespace":"mcp_agent.paper_to_code","message":"\ud83d\udcc4 Paper file loaded: /Volumes/MacSD/GitHub/DeepCode/deepcode_lab/papers/3/3.md (3308 chars)"}
{"level":"INFO","timestamp":"2025-12-29T09:33:17.984230","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:19.117668","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:19.118605","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:19.119879","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:19.353856","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:19.353913","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.AlgorithmAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:19.413214","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:19.413295","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.ConceptAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:33:19.414392","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:19.414932","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:19.415022","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:19.616772","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:33:20.119028","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:33:20.124684","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:21.122891","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:21.123821","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:21.127206","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:21.352603","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:21.352643","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.CodePlannerAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:33:21.353898","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:21.353789","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:21.352785","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:21.555909","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:33:22.057709","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:33:22.067841","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:23.066485","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:23.067454","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:23.068635","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:23.297094","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:23.297145","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.AlgorithmAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:23.328632","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:23.328687","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.ConceptAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:33:23.329749","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:23.330784","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:23.330888","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:23.532041","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:33:24.034066","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:33:24.040592","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:25.039881","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:25.040779","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:25.042023","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:25.275046","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:33:25.275460","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"ERROR","timestamp":"2025-12-29T09:33:25.275140","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.CodePlannerAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:33:25.277452","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:25.277315","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:25.479026","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:33:25.982148","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:33:25.993047","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:27.419284","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:27.420248","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:27.421445","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:27.649215","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:27.649263","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.AlgorithmAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:27.691450","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:33:27.692611","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:27.693851","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"ERROR","timestamp":"2025-12-29T09:33:27.691514","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.ConceptAnalysisAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:33:27.694099","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:27.895298","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:33:28.398977","namespace":"mcp_agent.mcp.mcp_aggregator.AlgorithmAnalysisAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:33:28.403193","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:29.488025","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:29.488935","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:29.490080","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Error loading server data: MCP Server: 'brave': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:29.716074","namespace":"mcp_agent.executor.executor","message":"Error executing task: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:29.716117","namespace":"mcp_agent.workflows.llm.augmented_llm_openai.CodePlannerAgent","message":"Error: Error code: 400 - {'error': {'message': 'Invalid max_tokens value, the valid range of max_tokens is [1, 8192]', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_request_error'}}"}
{"level":"INFO","timestamp":"2025-12-29T09:33:29.716263","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:29.718171","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"brave: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:29.717967","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:33:29.919334","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:33:30.422790","namespace":"mcp_agent.mcp.mcp_aggregator.CodePlannerAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:33:33.754597","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"command-executor: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:33.820646","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:33.821494","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"command-executor: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:33:33.822941","namespace":"mcp_agent.mcp.mcp_aggregator.StructureGeneratorAgent","message":"Error loading server data: MCP Server: 'command-executor': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"INFO","timestamp":"2025-12-29T09:34:05.790614","namespace":"mcp_agent.mcp.mcp_aggregator.StructureGeneratorAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:34:05.791282","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:34:05.791549","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"command-executor: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:34:05.992854","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
{"level":"INFO","timestamp":"2025-12-29T09:34:06.494858","namespace":"mcp_agent.mcp.mcp_aggregator.StructureGeneratorAgent","message":"Connection manager successfully closed and removed from context"}
{"level":"INFO","timestamp":"2025-12-29T09:34:08.345940","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-implementation: Up and running with a persistent connection!"}
{"level":"INFO","timestamp":"2025-12-29T09:34:08.346253","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-reference-indexer: Up and running with a persistent connection!"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:08.415533","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:08.416503","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-reference-indexer: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:08.418709","namespace":"mcp_agent.mcp.mcp_agent_client_session","message":"send_request failed: Connection closed"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:08.419418","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-implementation: Sub-error 1 in lifecycle task:\n  + Exception Group Traceback (most recent call last):\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/stdio/__init__.py\", line 189, in stdio_client\n  |     yield read_stream, write_stream\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 128, in filtered_stdio_client\n  |     async with anyio.create_task_group() as tg:\n  |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Exception Group Traceback (most recent call last):\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/stdio_transport.py\", line 131, in filtered_stdio_client\n    |     yield filtered_recv, write_stream\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 195, in _server_lifecycle_task\n    |     async with server_conn.session:\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 238, in __aexit__\n    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n    |   File \"/opt/homebrew/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 781, in __aexit__\n    |     raise BaseExceptionGroup(\n    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n    +-+---------------- 1 ----------------\n      | Traceback (most recent call last):\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 197, in _server_lifecycle_task\n      |     await server_conn.initialize_session()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_connection_manager.py\", line 130, in initialize_session\n      |     result = await self.session.initialize()\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/client/session.py\", line 171, in initialize\n      |     result = await self.send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp_agent/mcp/mcp_agent_client_session.py\", line 221, in send_request\n      |     result = await super().send_request(\n      |   File \"/opt/homebrew/lib/python3.10/site-packages/mcp/shared/session.py\", line 306, in send_request\n      |     raise McpError(response_or_error.error)\n      | mcp.shared.exceptions.McpError: Connection closed\n      +------------------------------------\n"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:08.420702","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error loading server data: MCP Server: 'code-implementation': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:08.420715","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error loading server data: MCP Server: 'code-reference-indexer': Failed to initialize with error: 'unhandled errors in a TaskGroup (1 sub-exception)'. Check mcp_agent.config.yaml. Attempting to continue"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:08.427404","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error: Tool 'set_workspace' not found"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:18.282360","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error: Tool 'write_file' not found"}
{"level":"ERROR","timestamp":"2025-12-29T09:34:27.608904","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Error: Tool 'get_operation_history' not found"}
{"level":"INFO","timestamp":"2025-12-29T09:34:27.609086","namespace":"mcp_agent.mcp.mcp_aggregator.CodeImplementationAgent","message":"Last aggregator closing, shutting down all persistent connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:34:27.610432","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"Disconnecting all persistent server connections..."}
{"level":"INFO","timestamp":"2025-12-29T09:34:27.610702","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-reference-indexer: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:34:27.610666","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"code-implementation: Requesting shutdown..."}
{"level":"INFO","timestamp":"2025-12-29T09:34:27.812004","namespace":"mcp_agent.mcp.mcp_connection_manager","message":"All persistent server connections signaled to disconnect."}
